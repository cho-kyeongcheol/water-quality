{% extends "backend/layout/base.html" %}

{% block content %}
  <div class="container pt-25 debug">
    <div class="pd-20 debug">
      <div class="title">기본</div>
      <div id="map" style="width:100%%; height:800px;"></div>
    </div>
  </div>
{% endblock %}

{% block javascript %}
<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=411014b49760133574f1c56e4c7f9bd1&libraries=services,clusterer,drawing"></script>
<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=411014b49760133574f1c56e4c7f9bd1"></script>
<script>
var container = document.getElementById('map'); //지도를 담을 영역의 DOM 레퍼런스
var options = { //지도를 생성할 때 필요한 기본 옵션
	center: new kakao.maps.LatLng(37.55781, 127.00935), //지도의 중심좌표.
	level: 10 //지도의 레벨(확대, 축소 정도)
};

var map = new kakao.maps.Map(container, options); //지도 생성 및 객체 리턴
map.addOverlayMapTypeId(kakao.maps.MapTypeId.TERRAIN);    

// 마커를 표시할 위치와 title 객체 배열입니다 
var positions = [
    {
        title: '가평', 
        latlng: new kakao.maps.LatLng(37.658, 127.379)
    },
    {
        title: '경안천', 
        latlng: new kakao.maps.LatLng(37.442, 127.31)
    },
    {
        title: '양평', 
        latlng: new kakao.maps.LatLng(37.507, 127.451)
    },
    {
        title: '의암호',
        latlng: new kakao.maps.LatLng(37.877, 127.678)
    },
    {
        title: '서상',
        latlng: new kakao.maps.LatLng(37.955, 127.685)
    },
    {
        title: '화천',
        latlng: new kakao.maps.LatLng(38.098, 127.709)
    },
    {
        title: '해평',
        latlng: new kakao.maps.LatLng(36.19357, 128.3628)
    },
    {
        title: '도개',
        latlng: new kakao.maps.LatLng(36.27315, 128.3458)
    }
];

// 마커 이미지의 이미지 주소입니다
var imageSrc = "https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/markerStar.png"; 
    
for (var i = 0; i < positions.length; i ++) {
    
    // 마커 이미지의 이미지 크기 입니다
    var imageSize = new kakao.maps.Size(24, 35); 
    
    // 마커 이미지를 생성합니다    
    var markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize); 
    
    // 마커를 생성합니다
    var marker = new kakao.maps.Marker({
        map: map, // 마커를 표시할 지도
        position: positions[i].latlng, // 마커를 표시할 위치
        title : positions[i].title, // 마커의 타이틀, 마커에 마우스를 올리면 타이틀이 표시됩니다
        image : markerImage // 마커 이미지 
    });

    // 지도에 표시할 원을 생성합니다
    var circle = new kakao.maps.Circle({
        center : positions[i].latlng,  // 원의 중심좌표 입니다 
        radius: 3000, // 미터 단위의 원의 반지름입니다 
        strokeWeight: 5, // 선의 두께입니다 
        strokeColor: '#75B8FA', // 선의 색깔입니다
        strokeOpacity: 1, // 선의 불투명도 입니다 1에서 0 사이의 값이며 0에 가까울수록 투명합니다
        strokeStyle: 'solid', // 선의 스타일 입니다
        fillColor: '#CFE7FF', // 채우기 색깔입니다
        fillOpacity: 0.7  // 채우기 불투명도 입니다   
    }); 

    // 지도에 원을 표시합니다 
    circle.setMap(map); 

    var iwContent = '<div>'+ positions[i].title +'</div>', // 인포윈도우에 표출될 내용으로 HTML 문자열이나 document element가 가능합니다
    iwPosition = positions[i].latlng; //인포윈도우 표시 위치입니다

    // 인포윈도우를 생성합니다
    /*
    var infowindow = new kakao.maps.InfoWindow({
        position : iwPosition, 
        content : iwContent 
    });

    infowindow.open(map, marker); 
    */

    // 커스텀 오버레이를 생성합니다
    var customOverlay = new kakao.maps.CustomOverlay({
        position: iwPosition,
        content: iwContent   
    });

    // 커스텀 오버레이를 지도에 표시합니다
    customOverlay.setMap(map);
}


</script>
{% endblock %}